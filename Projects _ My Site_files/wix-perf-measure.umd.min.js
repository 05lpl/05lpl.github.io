!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wix-perf-measure",[],t):"object"==typeof exports?exports["wix-perf-measure"]=t():e["wix-perf-measure"]=t()}("undefined"!=typeof self?self:this,(function(){return function(){var e={158:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,a=[],u=!1,l=-1;function d(){u&&s&&(u=!1,s.length?a=s.concat(a):l=-1,a.length&&f())}function f(){if(!u){var e=c(d);u=!0;for(var t=a.length;t;){for(s=a,a=[];++l<t;)s&&s[l].run();l=-1,t=a.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new p(e,t)),1!==a.length||u||c(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r);const e=1e4,t=10,o=1e4,i="\u23f1",c={capture:!0,passive:!0},s={...c,once:!0};function a(e,t,n,r){void 0===r&&(r=!0),e.addEventListener(t,n,r?s:c)}function u(e,t,n,r){void 0===r&&(r=!0),e.removeEventListener(t,n,r?s:c)}const l=p((e=>"loading"!==e),"DOMContentLoaded"),d=p((e=>"complete"===e),"load"),f=p((()=>!1),"pagehide",!1);function p(e,t,n){let r;return void 0===n&&(n=!0),o=>(r||(r=function(e,t,n,r){return new Promise((o=>{if(t(e.document.readyState))o({startTime:0});else{const t=e=>o({startTime:e.timeStamp});a(e,n,r?e=>setTimeout((()=>t(e)),0):t)}}))}(o,e,t,n)),r)}function m(e,t,n,r){void 0===r&&(r=e),r.dispatchEvent(new e.CustomEvent(t,{detail:n}))}const v="visibility",h="visibilitychange";function y(e){let[t]=e;return new Promise((e=>{if(g(t))return n(h,0);function n(t,n){e({entryType:v,type:t,startTime:n})}a(t,h,(function e(r){let{timeStamp:o}=r;g(t)&&(u(document,h,e,!1),n(h,o))}),!1),f(t).then((e=>{let{startTime:t}=e;return n("pagehide",t)}))}))}function g(e){let{document:t}=e;const{visibilityState:n}=t;return void 0===n?t.hidden:"hidden"===n}function T(){}function w(e){return()=>Promise.reject(e)}function b(e){return t=>typeof t===e}const E=b("undefined"),S=b("number"),P=b("boolean");b("string");function L(e){return e&&e.replace(/\?.*$/,"")}function x(e,t){var n;return null==e.getEntriesByType||null==(n=e.getEntriesByType(t))?void 0:n[0]}function I(e,t,n){return()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),0===e.length&&n())}}function C(e){return()=>null==e?void 0:e.disconnect()}function R(e,t){var n;return t||(null==(n=k(e,"*[id]"))?void 0:n.id)}function M(e){return k(e,"h1,h2,h3,h4,h5,h6,p,picture,wix-image,wow-image,article,section")||e}function k(e,t){return null==e?void 0:e.closest(t)}function D(e,t,n){E(n)||(e[t]=/^is/.test(t)?!!n:n)}function O(e){return Promise.allSettled(e).then((e=>e.filter((e=>{let{status:t}=e;return"fulfilled"===t})).map((e=>e.value))))}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t=>{O(n).then((n=>{const r=n.reduce(((e,t)=>Object.assign(e,t)),{});r.entryType=e,t(r)}))}))}function N(e){var t;return e.wixBiSession||(null==(t=e.bi)?void 0:t.wixBiSession)}const _={__proto__:{load:function(e,t){let{dataset:n,src:r}=t;if(Object.entries(_).map((e=>{let[t,r]=e;return[n[t],t,r]})).filter((e=>{let[t]=e;return!E(t)})).forEach((e=>{let[t,n,r]=e;if(P(r))t=!0;else if(S(r)){const e=Number(t);t=Number.isNaN(e)?r:e}_[n]=t})),r){_.src=r;const e=/\d+\.\d+\.\d+/.exec(r);e&&(_.version=e[0])}!_.clientType&&N(e)&&(_.clientType="ugc")}},newClsMethod:!0,resourceDebounce:2e3,taskDelta:300,longTask:60,eventDelta:500,ttiDurationInc:2e3,ignoreResources:"cdn_detect,-analytics,perf-measure",label:B("Performance"),clientType:"",fcpPolyfill:"wixFirstPaint",fcpPolyfillId:"wix-first-paint",pageEvent:B("Page"),clsEvent:B("Cls"),storagePrefix:"wix-perf-measure",sessionDelta:!1,noMeasure:!1,log:!1};function B(e){return"wix"+e+"Measurements"}var A=_;const z={analytics:!0,entryType:!0,clientType:!0,version:!0,cores:!0,memory:!0,effectiveType:!0,rtt:!0,download:!0,saveData:!0,url:!0,dns:!0,tcp:!0,ssl:!0,ttfb:!0,redirect:!0,fetchStart:!0,response:!0,navigationType:!0,protocol:!0,pageCaching:!0,_brandId:!0,viewerName:!0,v:!0,dc:!0,microPop:!0,cdn:!0,msid:!0,pageId:!0,fp:!0,fcp:!0,tti:!0,tbt:!0,lcpOld:!0,lcp:!0,lcpSize:!0,closestId:!0,lcpTag:!0,lcpResourceType:!0,lcpFontClass:!0,lcpInLightbox:!0,cls:!0,countCls:!0,clsId:!0,clsTag:!0,clsOld:!0,ttlb:!0,dcl:!0,transferSize:!0,decodedBodySize:!0,isSsr:!0,ssrDuration:!0,ssrTimestamp:!0,startTime:!0,duration:!0,delay:!0,action:!0,type:!0,pn:!0,count:!0,simLH6:!0,isMobile:!0,maybeBot:!0,btype:!0,numOfResponsivenessEvents:!0,worstLatency:!0,actions:!0,elementType:!0,worstLatencyByEntry:!0,compId:!0,loadState:!0,countScripts:!0,cssResourcesFonts:!0};function F(e,t){const n=/^https?:\/\/(?:www\.)?(.*)/.exec(e),r=n?n[1]:e;return q(t)?r:L(r)}function q(e){var t;let{consentPolicyManager:n}=e;return!(null==n||null==(t=n.getCurrentConsentPolicy())||null==(t=t.policy)||!t.analytics)}const H="navigation-start",U={COUNT:10,DELAY:100};const V="navigation-finish",W=13,X=333,Z="browser",$="eTag",Y="maybe";function G(e){let[,t]=e;return d(window).then((()=>{const{timing:e}=t,{navigationStart:n,domContentLoadedEventEnd:r,loadEventEnd:o}=e;let{responseEnd:i}=e;i>=n||(i=e.domInteractive||e.domContentLoadedEventStart);const c=x(t,"navigation"),s=function(e){if(e){const{requestStart:t,responseStart:n,responseEnd:r,transferSize:o,encodedBodySize:i}=e;if(S(o)){if(0===o)return Z;if(o<i)return $}else{if(n-t<W)return Z;if(r-n<W)return Y+" "+$}if(r-n<X)return Y+" CDN"}}(c);return{entryType:V,duration:o-n,ttlb:i-n,dcl:r-n,...c&&{transferSize:c.transferSize,decodedBodySize:c.decodedBodySize},...s&&{pageCaching:s}}}))}const J="wix-start";function K(e,t,n){t=A.storagePrefix+"-"+t;try{const{localStorage:r}=e;if(n&&q(e))return n(r,t);r.removeItem(t)}catch(e){}}const Q="wix-finish",ee=["microPop","is_rollout","is_platform_loaded","maybeBot","isjp"],te={is_rollout:"isRollout",is_platform_loaded:"isPlatformLoaded",isjp:"maybeBot"},ne="timestamp";function re(e,t){const n=e[0];return O([n.fetchDynamicModel||Promise.resolve({}),t,l(n)]).then((e=>{var t,o;let[{visitorId:i}]=e;const c=N(n);if(!c)throw Q;const s=!n.clientSideRender,{btype:u}=c,l=n.commonConfig||(null==(t=n.viewerModel)?void 0:t.siteFeaturesConfigs.commonConfig),{bsi:d}=l,f={entryType:Q,isSsr:s,isWelcome:!!n.requestCloseWelcomeScreen,url:n.location.href,...i&&{visitorId:i},...u&&{btype:u},...d&&{bsi:d}};if(D(f,"pageId",(null==(o=n.rendererModel)?void 0:o.landingPageId)||n.firstPageId),s){const{ssrInfo:e={}}=n;D(f,"ssrDuration",e.renderBodyTime||e.timeSpentInSSR),D(f,"ssrTimestamp",e.renderTimeStamp)}return ee.forEach((e=>D(f,te[e]||e,c[e]))),function(e){if(!A.sessionDelta)return void function(e,t){K(e,t)}(n,ne);const t=function(e,t){return K(e,t,((e,t)=>e.getItem(t)))}(n,ne),o=r(),i=o-t;i>0&&i<o&&(e.sessionDelta=i);a(n.document,"consentPolicyChanged",r,!1)}(f),f}));function r(){const e=Date.now();return function(e,t,n){K(e,t,((e,t)=>e.setItem(t,n)))}(n,ne,e),e}}function oe(e,t,n,r,o){if(void 0===n&&(n=T),void 0===r&&(r=!0),!e)return;const{supportedEntryTypes:i}=e;if(!i||!i.includes(t))return;const c=new e(((e,t)=>n(e.getEntries(),t)));try{c.observe({type:t,buffered:r,...o})}catch(e){c.observe({entryTypes:[t]})}return c}const ie=e=>{let{initiatorType:t,name:n}=e;return"script"===t||"link"===t&&/\.js$/.test(n)},ce=e=>{let{initiatorType:t}=e;return"fetch"===t||"xmlhttprequest"===t},se=e=>{let{initiatorType:t,name:n}=e;return"img"===t||"image"===t||"css"===t&&/\.(?:jpe?g|png|webp|gif)/i.test(n)},ae=e=>{let{initiatorType:t,name:n}=e;return"css"===t&&n.includes("font")||/\.(?:woff2?|ttf|eot)/i.test(n)};let ue;const le=[];function de(e,t,n){if(1===le.push(t)){const t=A.ignoreResources.split(",");ue=oe(e,"resource",(e=>{(e=e.filter((e=>{let{name:n}=e;return!t.some((e=>n.includes(e)))}))).length&&le.forEach((t=>t(e)))}),n)}return{observer:ue,finish:I(le,t,C(ue))}}const fe=1e6,{min:pe,max:me}=Math,ve=e=>e.includes("fonts.gstatic")||e.includes("fonts.googleapis");function he(e,t,n){let[,,r,o,i]=e,{filter:c,tag:s=!0,debounce:a=A.resourceDebounce}=void 0===n?{}:n;const u=new Promise(((e,t)=>{const n=[];let s=o(d,a);const{observer:u,finish:l}=de(r,(e=>{c&&(e=e.filter(c)),e.length&&(n.push(...e),i(s),s=o(d,a))}),!0);function d(){if(!u)return t();const r=null==u.takeRecords?void 0:u.takeRecords();r&&n.push(...r),l(),e(n)}})).then((e=>{const n=e,r=n.length;if(!r)throw t;let o=[];"fonts"===t&&(o=n.filter((e=>ve(e.name))).map((e=>e.name)));const{tbd:i,firstResponse:c,lastResponse:s}=n.reduce(((e,t)=>{let{transferSize:n,responseStart:r,responseEnd:o}=t;return{tbd:e.tbd+n,firstResponse:r>0&&r<e.firstResponse?r:e.firstResponse,lastResponse:me(e.lastResponse,o)}}),{tbd:0,firstResponse:fe,lastResponse:0}),a=n.filter((e=>{let{requestStart:t}=e;return S(t)})).map((e=>{let{requestStart:t,responseStart:n}=e;return n-t})).sort(),{length:u}=a,l=u>>1,d=pe(c,s),f={count:r,startTime:d,duration:s-d,mttfb:u%2?a[l]:(a[l-1]+a[l])/2,attfb:a.reduce(((e,t)=>e+t),0)/u,cssResources:o.join(",")};return Number.isNaN(i)||(f.tbd=i),f})).catch((()=>({count:0})));return s?u.then((function(e){const n=function(e){return e[0].toUpperCase()+e.slice(1)}(t);return Object.entries(e).reduce(((e,t)=>{let[r,o]=t;return e[r+n]=o,e}),{})})):u}function ye(e,t,n,r){let o;const i=new Promise(((i,c)=>{o=oe(e,t,(e=>n(e,(e=>{o&&o.disconnect&&o.disconnect(),i(e)}))),r),o||c(t)}));return i.takeRecords=()=>{var e;return null==(e=o)||null==e.takeRecords?void 0:e.takeRecords()},i}const ge="paint",Te="fcp",we={"first-paint":"fp","first-contentful-paint":Te};function be(e){let[t,,n]=e;const r={entryType:"initial-"+ge};return ye(n,ge,((e,t)=>{e.reduce(((e,t)=>{let{name:n,startTime:o}=t;return n=we[n]||n,r[n]=o,e||n===Te}),!1)&&t(r)})).catch((()=>function(e,t){return new Promise(((n,r)=>{const{fcpPolyfill:o,fcpPolyfillId:i}=A;function c(){const r=e[o];n({entryType:t,fp:r,fcp:r})}o in e?c():(a(e,o,c),l(e).then((()=>{e.document.getElementById(i)||r(t)})))}))}(t,r.entryType)))}const Ee="interactive",{max:Se,min:Pe}=Math;function Le(e,t,n){const[r,,o,i,c]=e,{resourceDebounce:s,taskDelta:a,ttiDurationInc:u}=A;return t.then((t=>new Promise((u=>{let d=t,f=!0,p=0;const m=[],v=function(e,t){let[{requestAnimationFrame:n,cancelAnimationFrame:r},o,i]=e;const c=oe(i,"longtask",t,!1);if(c)return C(c);let s=o.now();const{longTask:a}=A;let u=n((function e(r){const o=r-s;o>=a&&t([{startTime:s,duration:o}]),s=r,u=n(e)}));return()=>r(u)}(e,(e=>{m.push(...e),f=!1,c(p),p=i((()=>{f=!0,E()}),a)})),h=l(r);let y=!1,g=i(b,s);const{finish:w}=de(o,(e=>{e=e.filter((e=>ce(e)||ie(e))),e.length&&(y=!1,d=e.reduce(((e,t)=>{let{startTime:n,duration:r}=t;return Se(e,n+r)}),d),h.then((e=>{let{startTime:t}=e;d=Se(t,d),c(g),g=i(b,s)})))}),!1);function b(){y=!0,E()}function E(){f&&y&&S(1e6)}function S(e){v(),w(),u([m,t,d,e])}null==n||n.then((e=>{let{startTime:t,delay:n}=e;return S(t+n)}),T)})))).then((e=>{let[t,n,o,i]=e;const c=function(e,t,n,r){t===n&&(n+=u);let o=e.findIndex((e=>{let{startTime:t,duration:r}=e;if(t>n+a)return!0;n=Se(n,t+r)}));-1===o&&(o=e.length);const i=o>0?(c=e[o-1],c.startTime+c.duration):0;var c;return Se(Pe(i,r),t)}(t,n,o,i),{document:s,innerHeight:l}=r,d=function(e,t){let n=0;for(let r=0;r<e.length;++r){const{startTime:o,duration:i}=e[r];if(o>t)break;n+=Se(i-50,0)}return n}(t,c),f={tti:c,tbt:d,iframes:s.querySelectorAll("iframe").length},p=Se(s.body.offsetHeight,l);return p>0&&(f.screens=s.body.scrollHeight/p),f})).catch(w(Ee))}var xe=-1,Ie=function(e){addEventListener("pageshow",(function(t){t.persisted&&(xe=t.timeStamp,e(t))}),!0)},Ce=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Re=function(){var e=Ce();return e&&e.activationStart||0},Me=function(e,t){var n=Ce(),r="navigate";return xe>=0?r="back-forward-cache":n&&(document.prerendering||Re()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},ke=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},De=function(e,t,n,r){var o,i;return function(c){t.value>=0&&(c||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Oe=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},je=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Ne=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},_e=-1,Be=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ae=function(e){"hidden"===document.visibilityState&&_e>-1&&(_e="visibilitychange"===e.type?e.timeStamp:0,Fe())},ze=function(){addEventListener("visibilitychange",Ae,!0),addEventListener("prerenderingchange",Ae,!0)},Fe=function(){removeEventListener("visibilitychange",Ae,!0),removeEventListener("prerenderingchange",Ae,!0)},qe=function(){return _e<0&&(_e=Be(),ze(),Ie((function(){setTimeout((function(){_e=Be(),ze()}),0)}))),{get firstHiddenTime(){return _e}}},He=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ue=(new Date,[2500,4e3]),Ve={},We=function(e,t){t=t||{},He((function(){var n,r=qe(),o=Me("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-Re(),0),o.entries=[t],n())},c=ke("largest-contentful-paint",i);if(c){n=De(e,o,Ue,t.reportAllChanges);var s=Ne((function(){Ve[o.id]||(i(c.takeRecords()),c.disconnect(),Ve[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),je(s),Ie((function(r){o=Me("LCP"),n=De(e,o,Ue,t.reportAllChanges),Oe((function(){o.value=performance.now()-r.timeStamp,Ve[o.id]=!0,n(!0)}))}))}}))};const Xe="largest-contentful-paint";function Ze(e){return e?Promise.resolve(function(e){var t;const{startTime:n,size:r,url:o,element:i,id:c}=e,s=M(i),a=null==s?void 0:s.tagName,u=function(e){if(e)for(const t of e.classList){const e=/^font_\d$/.exec(t);if(e)return e[0]}}(s),l=R(i,c),d=/\.(jpe?g|png|gif|svg|webp)/i.exec(o),f=(null==d||null==(t=d[1])?void 0:t.toLowerCase().replace("jpeg","jpg"))||"other";return{entryType:Xe,lcp:n,lcpSize:r,...l&&{closestId:l},...a&&{lcpTag:a},...o&&{lcpResourceType:f},...u&&{lcpFontClass:u},lcpInLightbox:$e(i)}}(e)):Promise.reject(Xe)}function $e(e){return null!==k(e,"#POPUPS_ROOT")}const Ye="layout-shift",Ge={MAX_SIZE:200,MAX_INTERVAL:100},Je={MAX_SIZE:1e7,MAX_INTERVAL:1e7};function Ke(t,n){let[,,r]=t;const o=function(e,t){const n=oe(e,t);if(n){const e=null==n.takeRecords?void 0:n.takeRecords();return n.disconnect(),e}}(r,Ye);if(!o)return;const i=A.newClsMethod?Ge:Je;let c=0;const[s,a,u]=o.filter((e=>{let{hadRecentInput:t}=e;return!t})).map((e=>{let{sources:t=[],value:n,startTime:r}=e;c+=n;const[o]=t.reduce(((e,t)=>{let{node:n,currentRect:{width:r,height:o}}=t;const i=r*o;return i<e[1]?e:[n,i]}),[null,-1]);return[n,o,r]})).reduce(((e,t)=>{const[n]=e.slice(-1);if(n){const[,,r]=t,[o]=n;if(r-o[2]<i.MAX_SIZE){const[o]=n.slice(-1);if(r-o[2]<i.MAX_INTERVAL)return n.push(t),e}}return e.push([t]),e}),[]).reduce(((e,t)=>{const n=t.reduce(((e,t)=>{let[n]=t;return e+n}),0);if(n<=e[0])return e;const r=t.filter((e=>{let[,t]=e;return t})).reduce(((e,t)=>{let[n,r]=t;return e.set(r,n+(e.get(r)||0)),e}),new Map);return[n,t.length,r]}),[0,0]),l={cls:s*e,countCls:a,clsOld:c*e};if(u){const e=[];for(const t of u.entries())e.push(t);if(e.length){var d;e.sort(((e,t)=>t[1]-e[1]));let t=e[0][0];(null==(d=t)?void 0:d.nodeType)!==Node.ELEMENT_NODE&&(t=t.parentElement),n&&t&&(l.element=M(t));const r=R(t);r&&(l.clsId=r);const{tagName:o}=t;o&&(l.clsTag=o)}}return l}const Qe=["pointerdown","click","mousedown","keydown","touchstart"];function et(e,t,n){let[r,o]=e;void 0===n&&(n=Qe);let i=0;return n.forEach((e=>a(r,e,c,!1))),()=>{n.forEach((e=>u(r,e,c,!1)))};function c(e){let{type:t,timeStamp:n,cancelable:i}=e;if(!i)return;const c=o.now(),l=n>1e12?Date.now():c,d=Math.max(l-n,0),f=c-d;t===Qe[0]?function(e,t,n){function o(){s(e,t,n),i()}function i(){u(r,"pointerup",o,!1),u(r,"pointercancel",i,!1)}a(r,"pointerup",o,!1),a(r,"pointercancel",i,!1)}(t,f,d):s(t,f,d)}function s(e,n,r){const o=n+r;o-i<A.eventDelta||(i=o,t(e,n,r))}}const tt="first-input";function nt(e){const[,,t,n]=e;return ye(t,tt,((e,t)=>{const{name:r,startTime:o,processingStart:i,duration:c,target:s}=e[0],a={entryType:tt,action:r,startTime:o,delay:i-o,duration:c},u=R(s);u&&(a.closestId=u),n((()=>t(a)),0)})).catch((()=>function(e,t){return new Promise((n=>{const r=et(e,((e,o,i)=>{r(),n({entryType:t,action:e,startTime:o,delay:i})}))}))}(e,tt)))}function rt(e,t,n){const r=[],o=[];let i;const c=()=>r.push(new Promise((e=>i=e)));return c(),{report:t=>{t=ot(e,t),o.push(t),i({value:t}),c(),n&&m(e,n,t)},result:Promise.resolve({entryType:t,[Symbol.iterator](){let e=0;return{next:()=>({value:o[e++],done:e>o.length})}},[Symbol.asyncIterator](){let e=0;return{next:()=>r[e++]}},...n&&{eventName:n}})}}function ot(e,t){return Object.freeze((n=function(e,t){return Symbol.iterator in t?t:(t.analytics=q(e),t.analytics?t:Object.entries(t).filter((e=>{let[t]=e;return z[t]})).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{}))}(e,{...t,clientType:A.clientType}),Object.entries(n).filter((e=>{let[,t]=e;return"number"==typeof t})).reduce(((e,t)=>{let[n,r]=t;return e[n]=Math.round(r),e}),n)));var n}const it="tti",ct="lcp";function st(e,t,n){if(n.end>n.start)try{e.measure(t,n)}catch(e){}}const at="page-transition",ut=at+"s";let lt=0;function dt(e){const[t,n,r]=e;let o=f();const{clientType:i,pageEvent:c}=A,{report:s,result:u}=rt(t,ut,c);a(t,"popstate",(e=>{let{type:t,timeStamp:n}=e;return d(t,n,0)}),!1),oe(r,"event",(function(e){e.reduceRight(((e,t)=>{const{name:n}=t;return"click"!==n&&"keyup"!==n||d(n,t.startTime,t.duration),e}),void 0)}),!1,{durationThreshold:1})||et(e,d,["click"]);let l=!1;return u;function d(t,r,c){l||(l=!0,Le(e,Promise.resolve(r+c)).then((e=>{l=!1;const a=f();if(function(e,t){return L(e)!==L(t)}(o,a)){const u=e.tti-r,l={entryType:at,clientType:i,origin:o,destination:a,action:t,startTime:r,delay:c,duration:u,pn:++lt,...e};o=a,s(l),A.noMeasure||function(e,t){let{pn:n,startTime:r,tti:o,tbt:i}=t;st(e,"page #"+n+" tti",{start:r,end:o,detail:i})}(n,l)}})))}function f(){return F(t.location.href,t)}}const ft="crux";let pt;function mt(){var e;return Ze(null==(e=pt)?void 0:e.lcp())}const vt="crux-cls",ht=vt+"-s";function yt(e,t){return t.then((t=>{let{cls:n}=t,r=0;const o=e[0],{report:i,result:c}=rt(o,ht,A.clsEvent);return a(o,"visibilitychange",(function(){g(o)||y(e).then((t=>{let{startTime:o}=t;const c=Ke(e);c&&c.cls!==n&&(n=c.cls,i({...c,entryType:vt,startTime:o,count:++r}))}))}),!1),c}))}function gt(e){console.log(i,e)}var Tt,wt=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},bt=function(e){if("loading"===document.readyState)return"loading";var t=wt();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Et=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},St=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,o=r.id?"#"+r.id:Et(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+o.length>(t||100)-1)return n||o;if(n=n?o+">"+n:o,r.id)break;e=r.parentNode}}catch(e){}return n},Pt=-1,Lt=function(){return Pt},xt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Pt=t.timeStamp,e(t))}),!0)},It=function(){var e=wt();return e&&e.activationStart||0},Ct=function(e,t){var n=wt(),r="navigate";return Lt()>=0?r="back-forward-cache":n&&(document.prerendering||It()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Rt=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Mt=function(e,t,n,r){var o,i;return function(c){t.value>=0&&(c||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},kt=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Dt=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ot=(new Date,0),jt=1/0,Nt=0,_t=function(e){e.forEach((function(e){e.interactionId&&(jt=Math.min(jt,e.interactionId),Nt=Math.max(Nt,e.interactionId),Ot=Nt?(Nt-jt)/7+1:0)}))},Bt=function(){return Tt?Ot:performance.interactionCount||0},At=[200,500],zt=0,Ft=function(){return Bt()-zt},qt=[],Ht={},Ut=function(e){var t=qt[qt.length-1],n=Ht[e.interactionId];if(n||qt.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ht[r.id]=r,qt.push(r)}qt.sort((function(e,t){return t.latency-e.latency})),qt.splice(10).forEach((function(e){delete Ht[e.id]}))}},Vt=function(e,t){t=t||{},Dt((function(){var n;"interactionCount"in performance||Tt||(Tt=Rt("event",_t,{type:"event",buffered:!0,durationThreshold:0}));var r,o=Ct("INP"),i=function(e){e.forEach((function(e){e.interactionId&&Ut(e),"first-input"===e.entryType&&!qt.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Ut(e)}));var t,n=(t=Math.min(qt.length-1,Math.floor(Ft()/50)),qt[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},c=Rt("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Mt(e,o,At,t.reportAllChanges),c&&("interactionId"in PerformanceEventTiming.prototype&&c.observe({type:"first-input",buffered:!0}),kt((function(){i(c.takeRecords()),o.value<0&&Ft()>0&&(o.value=0,o.entries=[]),r(!0)})),xt((function(){qt=[],zt=Bt(),o=Ct("INP"),r=Mt(e,o,At,t.reportAllChanges)})))}))};const Wt="responsiveness";let Xt=!1;const{report:Zt,result:$t}=rt(window,Wt,Wt);window.addEventListener("info-called",(()=>Xt=!0));const Yt=e=>(function(e,t){Vt((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:St(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:bt(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}(Gt(e)),$t),Gt=e=>{let t=0;return n=>{const{reportData:r,logData:o}=Jt(n),i={entryType:Wt,worstLatency:n.value,numOfResponsivenessEvents:++t,...r};Zt(i);const c="true"===new URLSearchParams(window.location.search).get("debug");(e||Xt||c)&&gt({currentLatency:n.value,...i,...o})}},Jt=e=>{const t=e.attribution,n=t.eventEntry.name,r=t.eventEntry.target,o=t.eventEntry.duration,i=t.loadState;return{reportData:{interactionWaterfall:t.eventTarget,actions:n,latencyByEntry:o,startTime:t.eventTime,loadState:i,...Kt(r)},logData:{target:r}}},Kt=e=>{var t;const n=k(r=e,"*[id]")||r;var r;const o=null!=(t=null==n?void 0:n.id)?t:"";return{elementType:null==e?void 0:e.localName,compId:o}};var Qt=n(158);const en="wix-perf-measure-info";let tn;const nn="showperfinfo";!function(){if("function"!=typeof Promise||!Promise.allSettled)return;const{document:e,performance:n}=window,r=e.currentScript||e.getElementById("wix-perf-measure");r&&A.load(window,r);const{noMeasure:i,log:c,label:s}=A,a=[window,n,window.PerformanceObserver,window.setTimeout,window.clearTimeout],u=function(e,n){const r=j("environment",function(e){let[n]=e;const{screen:r}=n,i={screenRes:r.width+"x"+r.height,availScreenRes:r.availWidth+"x"+r.availHeight,windowInner:n.innerWidth+"x"+n.innerHeight,windowOuter:n.outerWidth+"x"+n.outerHeight,devicePixelRatio:n.devicePixelRatio*t,colorDepth:r.colorDepth};A.version&&(i.version=A.version);const{orientation:c}=r;null!=c&&c.type&&(i.orientation=c.type);const{navigator:s}=n,{connection:a,deviceMemory:u,hardwareConcurrency:l}=s;if(l&&(i.cores=l),u&&(i.memory=Math.floor(u)),a){const{type:e,effectiveType:t,rtt:n,downlink:r,saveData:c}=a;e&&(i.networkType=e),t&&(i.effectiveType=t),S(n)&&n&&(i.rtt=n),r&&(i.download=Math.min(r,o)),P(c)&&(i.saveData=c)}if(n.matchMedia){const e=n.matchMedia("(prefers-reduced-motion:reduce)");i.reducedMotion=e.matches}return s.getBattery?s.getBattery().then((e=>{let{charging:t,level:n}=e;return i.lowBattery=!1===t&&n<.1,i})).catch((()=>i)):Promise.resolve(i)}(e),function(e){let[t,n]=e;return new Promise(((e,r)=>{let o=0;!function i(){const{navigationStart:c,fetchStart:s,domainLookupStart:a,domainLookupEnd:u,redirectStart:l,redirectEnd:d,connectStart:f,connectEnd:p,secureConnectionStart:m,requestStart:v,responseStart:h}=n.timing,y=h-c;if(!(y>=0))return void(++o>U.COUNT?r(H):setTimeout(i,U.DELAY));const{document:{referrer:g},location:{href:T}}=t,w=x(n,"navigation");e({entryType:H,url:F(T,t),referrer:F(g,t),...w&&{navigationType:w.type,protocol:w.nextHopProtocol},dns:u-a,...S(s)&&{fetchStart:s-c},...d&&{redirect:d-l},...m?{tcp:m-f,ssl:p-m}:{tcp:p-f},ttfb:y,response:h-v})}()}))}(e),function(e){let[t]=e;const n=N(t);if(!n)return Promise.reject(J);const r={},{thunderboltVersion:o,viewerModel:i,boltVersion:c,rendererModel:s}=t,{site:a={}}=(null==i?void 0:i.site)||s||{};D(r,"msid",a.metaSiteId||n.msId);const u=t.commonConfig||(null==i?void 0:i.siteFeaturesConfigs.commonConfig);return D(r,"_brandId",null==u?void 0:u.brand),o?l(a.isResponsive?"thunderboltResponsive":"thunderbolt",o):l(n.renderType,c),D(r,"dc",n.dc||a.dc),Promise.resolve(r);function l(e,t){D(r,"viewerName",e),D(r,"v",t)}}(e)),i=y(e),c=be(e),s=nt(e),a=Le(e,(h=c,g="fcp",h.then((e=>{let{[g]:t}=e;return t}))),s),u=function(e,t,n,r){let[,o,i,c,s]=e;return t.then((e=>{let{tti:t}=e;const{resourceDebounce:a}=A;let u;const l=new Promise((e=>{const n=Math.max(a-(o.now()-t),0);u=c(e,n)})),d=ye(i,Xe,((e,t)=>{s(u),u=c((()=>t(e[e.length-1])),a)}));return Promise.race([d,l,n.then(T),r.then(T)]).then((e=>{const t=null==d.takeRecords?void 0:d.takeRecords(),[n]=null==t?void 0:t.slice(-1);return Ze(n||e)})).catch(w(Xe))}))}(e,a,i,s),l=function(e){return he(e,"scripts",{filter:ie})}(e),d=function(e){return he(e,"images",{filter:se})}(e),f=function(e){return he(e,"fonts",{filter:ae})}(e),p=j("loaded",a,u,l,d,f,G(e),re(e,a)).then((t=>Object.assign(t,Ke(e)))),m=function(e,t){const[,,n]=e;let r,o=Promise.resolve({});function i(e){null!=e&&e.length&&([r]=e.slice(-1),o=Ze(r).then((e=>({...e,lcpOld:e.lcp}))))}const c=oe(n,Xe,i);return pt={cls:()=>Ke(e,!0),lcp:()=>(i(null==c||null==c.takeRecords?void 0:c.takeRecords()),r)},Promise.all([t,new Promise((e=>We(e))).then((e=>{let{value:t}=e;return{lcp:t}}))]).then((t=>{let[{startTime:n},r]=t;return o.then((t=>({...Ke(e),...t,...r,entryType:ft,startTime:n,pn:lt})))}))}(e,i),v=[r,c,p,s,i,dt(e),m,yt(e,m),Yt(n)].map((t=>t.then((t=>ot(e[0],t)))));var h,g;return function(e){const t={};return n("lcp"),n("cls"),Object.defineProperties(e,t);function n(e){t[e]={value:()=>{var t;return null==(t=pt)||null==(t=t[e]())?void 0:t.element}}}}(v)}(a,c);(function(e,t,n,r,o,i){Object.defineProperty(r,"info",{value(){const[c]=e;function s(t){t?t.default(r,o().catch(T),i(e)):a()}function a(){console.info("Failed to load info")}void 0===Qt&&(c.process={env:{}}),tn||(tn=new Promise(((e,r)=>{if(!n)return r();const o=t.createElement("script");o.src=n.replace("measure.","measure-info."),o.onload=e,o.onerror=r,t.head.appendChild(o)}))),tn.then((()=>{"function"==typeof requirejs?requirejs([en],s,a):s(c[en])})).catch(a)}})})(a,e,A.src,u,mt,Ke),Object.freeze(u);const l=u.slice(0,3),d=u.slice(3,5);i||function(e,t){function n(e,t){return e.find((e=>{let{entryType:n}=e;return n===t}))||{}}function r(t,n,r){if(n)return e.mark(t,{startTime:n,detail:r})}O(t).then((t=>{const{tti:o,tbt:i,lcp:c}=n(t,"loaded");if(!r(it,o,i))return void e.clearMarks(it);r(ct,c);const{fcp:s}=n(t,"initial-paint"),a=c<o,u={start:a?c:s,end:o,detail:i};st(e,ct,{start:a?s:o,end:c}),st(e,it,u)}),T)}(n,l);c&&function(e,t){O(e).then((e=>e.forEach(gt)),T),t.forEach((e=>e.then(gt,T)))}(l,d);window[s]=u,m(window,s,u),function(e,t){const{URLSearchParams:n}=e;if(n){const r=new n(e.location.search);for(const n of r.keys())if(n.toLowerCase()===nn)return Promise.all(t.slice(0,3)).then((t=>{let[{viewerName:n,ttfb:r},{fcp:o},{lcp:i,cls:c,tti:s,tbt:a}]=t;e.alert("Viewer="+n+"\nTTFB="+r+"\nFCP="+o+"\nLCP="+i+"\nCLS="+c+"\nTTI="+s+"\nTBT="+a)})),!0}}(window,u)}()}(),r}()}));
//# sourceMappingURL=wix-perf-measure.umd.min.js.map